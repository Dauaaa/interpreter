# Lox Interpreter

Based on this [book](https://craftinginterpreters.com/)

## Scanner approach:

use a finite state machine as shown in this [graph](https://dreampuf.github.io/GraphvizOnline/#digraph%20G%20%7B%0A%20%20%20%20bgcolor%3D%22%23ffffff00%22%20%23%20RGBA%20(with%20alpha)%0A%20%20%20%20splines%3Dtrue%0A%20%20%20%20graph%20%5B%20overlap%3Dfalse%20splines%3Dtrue%20%5D%0A%20%20%20%20%20%0A%20%20%20%20node%20%5Bshape%3Dcircle%2C%0A%20%20%20%20%20%20%20%20%20%20fixedsize%3Dtrue%2C%0A%20%20%20%20%20%20%20%20%20%20width%3D0.6%2C%0A%20%20%20%20%20%20%20%20%20%20color%3D%22black%22%2C%20%23%20node%20border%20color%20(X11%20or%20HTML%20colors)%0A%20%20%20%20%20%20%20%20%20%20fillcolor%3Dwhite%2C%20%23%20node%20fill%20color%20(X11%20or%20HTML%20colors)%0A%20%20%20%20%20%20%20%20%20%20style%3D%22filled%2Csolid%22%2C%0A%20%20%20%20%20%20%20%20%20%20fontcolor%3Ddarkred%2C%20%23%20text%20color%20(X11%20or%20HTML%20colors)%0A%20%20%20%20%20%20%20%20%20%20fontsize%3D6%5D%0A%0A%20%20%20%20edge%20%5B%20penwidth%3D0.6%2C%20color%3Dblack%20arrowsize%3D0.5%20%5D%0A%20%20%20%20Next%20%5Bshape%3DMDiamond%5D%0A%20%20%20%20subgraph%20sub1%20%7B%0A%20%20%20%20%20%20%20%20style%3Dfilled%3B%0A%20%20%20%20%20%20%20%20color%3Dlightgrey%3B%0A%20%20%20%20%20%20%20%20MaybeTwo%3B%0A%20%20%20%20%20%20%20%20Comment%3B%0A%20%20%20%20%20%20%20%20node%20%5Bstyle%3Dfilled%2Ccolor%3Dwhite%5D%3B%0A%20%20%20%20%20%20%20%20MaybeTwo%20-%3E%20Comment%20%5B%20color%3D%22grey%22%20%5D%0A%20%20%20%20%7D%0A%20%20%20%20subgraph%20sub2%20%7B%0A%20%20%20%20%20%20%20%20Number%3B%0A%20%20%20%20%20%20%20%20SoloDot%3B%0A%20%20%20%20%20%20%20%20NumberWithDot%3B%0A%20%20%20%20%20%20%20%20Number%20-%3E%20NumberWithDot%20%5B%20color%3D%22red%22%20%5D%3B%0A%20%20%20%20%20%20%20%20SoloDot%20-%3E%20NumberWithDot%20%5B%20color%3D%22red%22%20%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20LiteralKeyword%3B%0A%20%20%20%20InString%3B%0A%20%20%20%20LiteralKeyword%20-%3E%20Next%20%5B%20color%3D%22blue%22%20%5D%3B%0A%20%20%20%20LiteralKeyword%20-%3E%20LiteralKeyword%20%5B%20color%3D%22red%22%20%5D%3B%0A%20%20%20%20Next%20-%3E%20InString%20%5B%20color%3D%22red%22%20%5D%3B%0A%20%20%20%20InString%20-%3E%20InString%20%5B%20color%3D%22red%22%20%5D%3B%0A%20%20%20%20Next%20-%3E%20MaybeTwo%20%5B%20color%3D%22red%22%20%5D%3B%0A%20%20%20%20Next%3Ane%20-%3E%20Next%3Anw%20%5B%20color%3D%22blue%22%20%5D%3B%0A%20%20%20%20Next%20-%3E%20LiteralKeyword%20%5B%20color%3D%22red%22%20%5D%3B%0A%20%20%20%20Next%20-%3E%20Number%20%5B%20color%3D%22red%22%20%5D%3B%0A%20%20%20%20Next%20-%3E%20SoloDot%20%5B%20color%3D%22red%22%20%5D%3B%0A%20%20%20%20MaybeTwo%20-%3E%20Next%20%5B%20color%3D%22blue%22%20%5D%3B%0A%20%20%20%20InString%20-%3E%20Next%20%5B%20color%3D%22blue%22%20%5D%3B%0A%20%20%20%20Number%20-%3E%20Next%20%5B%20color%3D%22blue%22%20%5D%3B%0A%09Number%20-%3E%20Number%20%5B%20color%3D%22red%22%20%5D%3B%0A%20%20%20%20NumberWithDot%20-%3E%20NumberWithDot%20%5B%20color%3D%22red%22%20%5D%3B%0A%20%20%20%20NumberWithDot%20-%3E%20Next%20%5B%20color%3D%22blue%22%20%5D%3B%0A%20%20%20%20SoloDot%20-%3E%20Next%20%5B%20color%3D%22blue%22%20%5D%3B%0A%20%20%20%20Comment%3Anw%20-%3E%20Next%3Aw%20%5B%20color%3D%22grey%22%5D%0A%7D)
Edge colors
- Blue: new token added
- Red: mutate buffer (push into `buffer_vec` or change `buffer_type`)
- Grey: comment
![Alt text](https://i.postimg.cc/MGKkB1pR/graphviz.png)
